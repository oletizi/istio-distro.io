(function(){var b=this,a;(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(b,c){return a.controller.visit(b,c)},clearCache:function(){return a.controller.clearCache()},setProgressBarDelay:function(b){return a.controller.setProgressBarDelay(b)}}}).call(this)}).call(b),a=b.Turbolinks,function(){(function(){var c,b,d,e=[].slice;a.copyObject=function(c){var a,b,d;b={};for(a in c)d=c[a],b[a]=d;return b},a.closest=function(a,b){return c.call(a,b)},c=function(){var a,c;return a=document.documentElement,null!=(c=a.closest)?c:function(c){var a;for(a=this;a;){if(a.nodeType===Node.ELEMENT_NODE&&b.call(a,c))return a;a=a.parentNode}}}(),a.defer=function(a){return setTimeout(a,1)},a.throttle=function(b){var a;return a=null,function(){var c;return c=1<=arguments.length?e.call(arguments,0):[],null!=a?a:a=requestAnimationFrame(function(d){return function(){return a=null,b.apply(d,c)}}(this))}},a.dispatch=function(i,h){var f,e,a,g,b,c;return b=null!=h?h:{},c=b.target,f=b.cancelable,e=b.data,a=document.createEvent("Events"),a.initEvent(i,!0,f===!0),a.data=null!=e?e:{},a.cancelable&&!d&&(g=a.preventDefault,a.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),g.call(this)}),(null!=c?c:document).dispatchEvent(a),a},d=function(){var a;return a=document.createEvent("Events"),a.initEvent("test",!0,!0),a.preventDefault(),a.defaultPrevented}(),a.match=function(a,c){return b.call(a,c)},b=function(){var a,b,c,d;return a=document.documentElement,null!=(b=null!=(c=null!=(d=a.matchesSelector)?d:a.webkitMatchesSelector)?c:a.msMatchesSelector)?b:a.mozMatchesSelector}(),a.uuid=function(){var a,b,c;for(c="",a=b=1;36>=b;a=++b)c+=9===a||14===a||19===a||24===a?"-":15===a?"4":20===a?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return c}}).call(this),function(){a.Location=function(){function a(b){var c,a;null==b&&(b=""),a=document.createElement("a"),a.href=b.toString(),this.absoluteURL=a.href,c=a.hash.length,2>c?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-c),this.anchor=a.hash.slice(1))}var b,c,d,e;return a.wrap=function(a){return a instanceof this?a:new this(a)},a.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},a.prototype.getPath=function(){var a,b;return null!=(a=null!=(b=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?b[1]:void 0)?a:"/"},a.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},a.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},a.prototype.getExtension=function(){var a,b;return null!=(a=null!=(b=this.getLastPathComponent().match(/\.[^.]*$/))?b[0]:void 0)?a:""},a.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},a.prototype.isPrefixedBy=function(a){var b;return b=c(a),this.isEqualTo(a)||e(this.absoluteURL,b)},a.prototype.isEqualTo=function(a){return this.absoluteURL===(null!=a?a.absoluteURL:void 0)},a.prototype.toCacheKey=function(){return this.requestURL},a.prototype.toJSON=function(){return this.absoluteURL},a.prototype.toString=function(){return this.absoluteURL},a.prototype.valueOf=function(){return this.absoluteURL},c=function(a){return b(a.getOrigin()+a.getPath())},b=function(a){return d(a,"/")?a:a+"/"},e=function(b,a){return b.slice(0,a.length)===a},d=function(b,a){return b.slice(-a.length)===a},a}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.HttpRequest=function(){function c(c,d,e){this.delegate=c,this.requestCanceled=b(this.requestCanceled,this),this.requestTimedOut=b(this.requestTimedOut,this),this.requestFailed=b(this.requestFailed,this),this.requestLoaded=b(this.requestLoaded,this),this.requestProgressed=b(this.requestProgressed,this),this.url=a.Location.wrap(d).requestURL,this.referrer=a.Location.wrap(e).absoluteURL,this.createXHR()}return c.NETWORK_FAILURE=0,c.TIMEOUT_FAILURE=-1,c.timeout=60,c.prototype.send=function(){var a;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(a=this.delegate).requestStarted?a.requestStarted():void 0):void 0},c.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},c.prototype.requestProgressed=function(a){return a.lengthComputable?this.setProgress(a.loaded/a.total):void 0},c.prototype.requestLoaded=function(){return this.endRequest(function(a){return function(){var b;return 200<=(b=a.xhr.status)&&300>b?a.delegate.requestCompletedWithResponse(a.xhr.responseText,a.xhr.getResponseHeader("Turbolinks-Location")):(a.failed=!0,a.delegate.requestFailedWithStatusCode(a.xhr.status,a.xhr.responseText))}}(this))},c.prototype.requestFailed=function(){return this.endRequest(function(a){return function(){return a.failed=!0,a.delegate.requestFailedWithStatusCode(a.constructor.NETWORK_FAILURE)}}(this))},c.prototype.requestTimedOut=function(){return this.endRequest(function(a){return function(){return a.failed=!0,a.delegate.requestFailedWithStatusCode(a.constructor.TIMEOUT_FAILURE)}}(this))},c.prototype.requestCanceled=function(){return this.endRequest()},c.prototype.notifyApplicationBeforeRequestStart=function(){return a.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},c.prototype.notifyApplicationAfterRequestEnd=function(){return a.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},c.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},c.prototype.endRequest=function(a){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=a&&a.call(this),this.destroy()):void 0},c.prototype.setProgress=function(b){var a;return this.progress=b,"function"==typeof(a=this.delegate).requestProgressed?a.requestProgressed(this.progress):void 0},c.prototype.destroy=function(){var a;return this.setProgress(1),"function"==typeof(a=this.delegate).requestFinished&&a.requestFinished(),this.delegate=null,this.xhr=null},c}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.ProgressBar=function(){function a(){this.trickle=b(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var c;return c=300,a.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+c+"ms ease-out, opacity "+c/2+"ms "+c/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",a.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},a.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(a){return function(){return a.uninstallProgressElement(),a.stopTrickling(),a.visible=!1,a.hiding=!1}}(this))):void 0},a.prototype.setValue=function(a){return this.value=a,this.refresh()},a.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},a.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},a.prototype.fadeProgressElement=function(a){return this.progressElement.style.opacity=0,setTimeout(a,1.5*c)},a.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},a.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,c)},a.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},a.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},a.prototype.refresh=function(){return requestAnimationFrame(function(a){return function(){return a.progressElement.style.width=10+90*a.value+"%"}}(this))},a.prototype.createStylesheetElement=function(){var a;return a=document.createElement("style"),a.type="text/css",a.textContent=this.constructor.defaultCSS,a},a.prototype.createProgressElement=function(){var a;return a=document.createElement("div"),a.className="turbolinks-progress-bar",a},a}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.BrowserAdapter=function(){function c(c){this.controller=c,this.showProgressBar=b(this.showProgressBar,this),this.progressBar=new a.ProgressBar}var e,f,d;return d=a.HttpRequest,e=d.NETWORK_FAILURE,f=d.TIMEOUT_FAILURE,c.prototype.visitProposedToLocationWithAction=function(a,b){return this.controller.startVisitToLocationWithAction(a,b)},c.prototype.visitStarted=function(a){return a.issueRequest(),a.changeHistory(),a.loadCachedSnapshot()},c.prototype.visitRequestStarted=function(a){return this.progressBar.setValue(0),a.hasCachedSnapshot()||"restore"!==a.action?this.showProgressBarAfterDelay():this.showProgressBar()},c.prototype.visitRequestProgressed=function(a){return this.progressBar.setValue(a.progress)},c.prototype.visitRequestCompleted=function(a){return a.loadResponse()},c.prototype.visitRequestFailedWithStatusCode=function(a,b){switch(b){case e:case f:return this.reload();default:return a.loadResponse()}},c.prototype.visitRequestFinished=function(a){return this.hideProgressBar()},c.prototype.visitCompleted=function(a){return a.followRedirect()},c.prototype.pageInvalidated=function(){return this.reload()},c.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},c.prototype.showProgressBar=function(){return this.progressBar.show()},c.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},c.prototype.reload=function(){return window.location.reload()},c}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.History=function(){function c(a){this.delegate=a,this.onPageLoad=b(this.onPageLoad,this),this.onPopState=b(this.onPopState,this)}return c.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},c.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},c.prototype.push=function(b,c){return b=a.Location.wrap(b),this.update("push",b,c)},c.prototype.replace=function(b,c){return b=a.Location.wrap(b),this.update("replace",b,c)},c.prototype.onPopState=function(f){var b,c,d,e;return this.shouldHandlePopState()&&(e=null!=(c=f.state)?c.turbolinks:void 0)?(b=a.Location.wrap(window.location),d=e.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(b,d)):void 0},c.prototype.onPageLoad=function(b){return a.defer(function(a){return function(){return a.pageLoaded=!0}}(this))},c.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},c.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},c.prototype.update=function(b,c,d){var a;return a={turbolinks:{restorationIdentifier:d}},history[b+"State"](a,null,c)},c}()}.call(this),function(){a.HeadDetails=function(){function a(i){var d,g,b,c,h,a;for(this.elements={},b=0,h=i.length;h>b;b++)a=i[b],a.nodeType===Node.ELEMENT_NODE&&(c=a.outerHTML,g=null!=(d=this.elements)[c]?d[c]:d[c]={type:f(a),tracked:e(a),elements:[]},g.elements.push(a))}var b,c,d,e,f;return a.fromHeadElement=function(a){var b;return new this(null!=(b=null!=a?a.childNodes:void 0)?b:[])},a.prototype.hasElementWithKey=function(a){return a in this.elements},a.prototype.getTrackedElementSignature=function(){var a,b;return function(){var c,d;c=this.elements,d=[];for(a in c)b=c[a].tracked,b&&d.push(a);return d}.call(this).join("")},a.prototype.getScriptElementsNotInDetails=function(a){return this.getElementsMatchingTypeNotInDetails("script",a)},a.prototype.getStylesheetElementsNotInDetails=function(a){return this.getElementsMatchingTypeNotInDetails("stylesheet",a)},a.prototype.getElementsMatchingTypeNotInDetails=function(g,h){var f,b,c,d,a,e;c=this.elements,a=[];for(b in c)d=c[b],e=d.type,f=d.elements,e!==g||h.hasElementWithKey(b)||a.push(f[0]);return a},a.prototype.getProvisionalElements=function(){var b,e,a,d,c,f,g;a=[],d=this.elements;for(e in d)c=d[e],g=c.type,f=c.tracked,b=c.elements,null!=g||f?b.length>1&&a.push.apply(a,b.slice(1)):a.push.apply(a,b);return a},a.prototype.getMetaValue=function(b){var a;return null!=(a=this.findMetaElementByName(b))?a.getAttribute("content"):void 0},a.prototype.findMetaElementByName=function(f){var a,c,e,d;a=void 0,d=this.elements;for(e in d)c=d[e].elements,b(c[0],f)&&(a=c[0]);return a},f=function(a){return c(a)?"script":d(a)?"stylesheet":void 0},e=function(a){return"reload"===a.getAttribute("data-turbolinks-track")},c=function(b){var a;return a=b.tagName.toLowerCase(),"script"===a},d=function(b){var a;return a=b.tagName.toLowerCase(),"style"===a||"link"===a&&"stylesheet"===b.getAttribute("rel")},b=function(a,c){var b;return b=a.tagName.toLowerCase(),"meta"===b&&a.getAttribute("name")===c},a}()}.call(this),function(){a.Snapshot=function(){function b(a,b){this.headDetails=a,this.bodyElement=b}return b.wrap=function(a){return a instanceof this?a:"string"==typeof a?this.fromHTMLString(a):this.fromHTMLElement(a)},b.fromHTMLString=function(b){var a;return a=document.createElement("html"),a.innerHTML=b,this.fromHTMLElement(a)},b.fromHTMLElement=function(b){var c,d,e,f;return e=b.querySelector("head"),c=null!=(f=b.querySelector("body"))?f:document.createElement("body"),d=a.HeadDetails.fromHeadElement(e),new this(d,c)},b.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},b.prototype.getRootLocation=function(){var b,c;return c=null!=(b=this.getSetting("root"))?b:"/",new a.Location(c)},b.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},b.prototype.getElementForAnchor=function(a){try{return this.bodyElement.querySelector("[id='"+a+"'], a[name='"+a+"']")}catch(a){}},b.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},b.prototype.getPermanentElementById=function(a){return this.bodyElement.querySelector("#"+a+"[data-turbolinks-permanent]")},b.prototype.getPermanentElementsPresentInSnapshot=function(f){var b,a,e,c,d;for(c=this.getPermanentElements(),d=[],a=0,e=c.length;e>a;a++)b=c[a],f.getPermanentElementById(b.id)&&d.push(b);return d},b.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},b.prototype.hasAnchor=function(a){return null!=this.getElementForAnchor(a)},b.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},b.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},b.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},b.prototype.getSetting=function(a){return this.headDetails.getMetaValue("turbolinks-"+a)},b}()}.call(this),function(){var b=[].slice;a.Renderer=function(){function a(){}var c;return a.render=function(){var c,d,e,a;return e=arguments[0],d=arguments[1],c=3<=arguments.length?b.call(arguments,2):[],a=function(b,e,c){c.prototype=b.prototype;var d=new c,a=b.apply(d,e);return Object(a)===a?a:d}(this,c,function(){}),a.delegate=e,a.render(d),a},a.prototype.renderView=function(a){return this.delegate.viewWillRender(this.newBody),a(),this.delegate.viewRendered(this.newBody)},a.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},a.prototype.createScriptElement=function(b){var a;return"false"===b.getAttribute("data-turbolinks-eval")?b:(a=document.createElement("script"),a.textContent=b.textContent,a.async=!1,c(a,b),a)},c=function(h,i){var a,e,f,d,b,c,g;for(d=i.attributes,c=[],a=0,e=d.length;e>a;a++)b=d[a],f=b.name,g=b.value,c.push(h.setAttribute(f,g));return c},a}()}.call(this),function(){var c,b,d=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},e={}.hasOwnProperty;a.SnapshotRenderer=function(e){function a(a,b,c){this.currentSnapshot=a,this.newSnapshot=b,this.isPreview=c,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return d(a,e),a.prototype.render=function(a){return this.shouldRender()?(this.mergeHead(),this.renderView(function(b){return function(){return b.replaceBody(),b.isPreview||b.focusFirstAutofocusableElement(),a()}}(this))):this.invalidateView()},a.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},a.prototype.replaceBody=function(){var a;return a=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(a)},a.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},a.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},a.prototype.copyNewHeadStylesheetElements=function(){var d,a,e,b,c;for(b=this.getNewHeadStylesheetElements(),c=[],a=0,e=b.length;e>a;a++)d=b[a],c.push(document.head.appendChild(d));return c},a.prototype.copyNewHeadScriptElements=function(){var d,a,e,b,c;for(b=this.getNewHeadScriptElements(),c=[],a=0,e=b.length;e>a;a++)d=b[a],c.push(document.head.appendChild(this.createScriptElement(d)));return c},a.prototype.removeCurrentHeadProvisionalElements=function(){var d,a,e,b,c;for(b=this.getCurrentHeadProvisionalElements(),c=[],a=0,e=b.length;e>a;a++)d=b[a],c.push(document.head.removeChild(d));return c},a.prototype.copyNewHeadProvisionalElements=function(){var d,a,e,b,c;for(b=this.getNewHeadProvisionalElements(),c=[],a=0,e=b.length;e>a;a++)d=b[a],c.push(document.head.appendChild(d));return c},a.prototype.relocateCurrentBodyPermanentElements=function(){var d,h,i,a,e,f,g;for(f=this.getCurrentBodyPermanentElements(),g=[],d=0,h=f.length;h>d;d++)a=f[d],e=c(a),i=this.newSnapshot.getPermanentElementById(a.id),b(a,e.element),b(i,a),g.push(e);return g},a.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(h){var i,e,a,f,g,c,d;for(d=[],a=0,f=h.length;f>a;a++)c=h[a],e=c.element,g=c.permanentElement,i=g.cloneNode(!0),d.push(b(e,i));return d},a.prototype.activateNewBodyScriptElements=function(){var f,a,c,g,d,e;for(d=this.getNewBodyScriptElements(),e=[],a=0,g=d.length;g>a;a++)c=d[a],f=this.createScriptElement(c),e.push(b(c,f));return e},a.prototype.assignNewBody=function(){return document.body=this.newBody},a.prototype.focusFirstAutofocusableElement=function(){var a;return null!=(a=this.newSnapshot.findFirstAutofocusableElement())?a.focus():void 0},a.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},a.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},a.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},a.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},a.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},a.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},a}(a.Renderer),c=function(b){var a;return a=document.createElement("meta"),a.setAttribute("name","turbolinks-permanent-placeholder"),a.setAttribute("content",b.id),{element:a,permanentElement:b}},b=function(a,c){var b;return(b=a.parentNode)?b.replaceChild(c,a):void 0}}.call(this),function(){var b=function(a,b){function e(){this.constructor=a}for(var d in b)c.call(b,d)&&(a[d]=b[d]);return e.prototype=b.prototype,a.prototype=new e,a.__super__=b.prototype,a},c={}.hasOwnProperty;a.ErrorRenderer=function(c){function a(b){var a;a=document.createElement("html"),a.innerHTML=b,this.newHead=a.querySelector("head"),this.newBody=a.querySelector("body")}return b(a,c),a.prototype.render=function(a){return this.renderView(function(b){return function(){return b.replaceHeadAndBody(),b.activateBodyScriptElements(),a()}}(this))},a.prototype.replaceHeadAndBody=function(){var a,b;return b=document.head,a=document.body,b.parentNode.replaceChild(this.newHead,b),a.parentNode.replaceChild(this.newBody,a)},a.prototype.activateBodyScriptElements=function(){var e,a,f,c,b,d;for(c=this.getScriptElements(),d=[],a=0,f=c.length;f>a;a++)b=c[a],e=this.createScriptElement(b),d.push(b.parentNode.replaceChild(e,b));return d},a.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},a}(a.Renderer)}.call(this),function(){a.View=function(){function b(a){this.delegate=a,this.htmlElement=document.documentElement}return b.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},b.prototype.getElementForAnchor=function(a){return this.getSnapshot().getElementForAnchor(a)},b.prototype.getSnapshot=function(){return a.Snapshot.fromHTMLElement(this.htmlElement)},b.prototype.render=function(a,d){var e,b,c;return c=a.snapshot,e=a.error,b=a.isPreview,this.markAsPreview(b),null!=c?this.renderSnapshot(c,b,d):this.renderError(e,d)},b.prototype.markAsPreview=function(a){return a?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},b.prototype.renderSnapshot=function(b,c,d){return a.SnapshotRenderer.render(this.delegate,d,this.getSnapshot(),a.Snapshot.wrap(b),c)},b.prototype.renderError=function(b,c){return a.ErrorRenderer.render(this.delegate,c,b)},b}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.ScrollManager=function(){function c(c){this.delegate=c,this.onScroll=b(this.onScroll,this),this.onScroll=a.throttle(this.onScroll)}return c.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},c.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},c.prototype.scrollToElement=function(a){return a.scrollIntoView()},c.prototype.scrollToPosition=function(a){var b,c;return b=a.x,c=a.y,window.scrollTo(b,c)},c.prototype.onScroll=function(a){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},c.prototype.updatePosition=function(b){var a;return this.position=b,null!=(a=this.delegate)?a.scrollPositionChanged(this.position):void 0},c}()}.call(this),function(){a.SnapshotCache=function(){function b(a){this.size=a,this.keys=[],this.snapshots={}}var c;return b.prototype.has=function(b){var a;return a=c(b),a in this.snapshots},b.prototype.get=function(a){var b;if(this.has(a))return b=this.read(a),this.touch(a),b},b.prototype.put=function(a,b){return this.write(a,b),this.touch(a),b},b.prototype.read=function(b){var a;return a=c(b),this.snapshots[a]},b.prototype.write=function(b,d){var a;return a=c(b),this.snapshots[a]=d},b.prototype.touch=function(d){var a,b;return b=c(d),a=this.keys.indexOf(b),a>-1&&this.keys.splice(a,1),this.keys.unshift(b),this.trim()},b.prototype.trim=function(){var a,d,e,b,c;for(b=this.keys.splice(this.size),c=[],a=0,e=b.length;e>a;a++)d=b[a],c.push(delete this.snapshots[d]);return c},c=function(b){return a.Location.wrap(b).toCacheKey()},b}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.Visit=function(){function c(c,d,e){this.controller=c,this.action=e,this.performScroll=b(this.performScroll,this),this.identifier=a.uuid(),this.location=a.Location.wrap(d),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var d;return c.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},c.prototype.cancel=function(){var a;return"started"===this.state?(null!=(a=this.request)&&a.cancel(),this.cancelRender(),this.state="canceled"):void 0},c.prototype.complete=function(){var a;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(a=this.adapter).visitCompleted&&a.visitCompleted(this),this.controller.visitCompleted(this)):void 0},c.prototype.fail=function(){var a;return"started"===this.state?(this.state="failed","function"==typeof(a=this.adapter).visitFailed?a.visitFailed(this):void 0):void 0},c.prototype.changeHistory=function(){var a,b;return this.historyChanged?void 0:(a=this.location.isEqualTo(this.referrer)?"replace":this.action,b=d(a),this.controller[b](this.location,this.restorationIdentifier),this.historyChanged=!0)},c.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new a.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},c.prototype.getCachedSnapshot=function(){var a;return!(a=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!a.hasAnchor(this.location.anchor)||"restore"!==this.action&&!a.isPreviewable()?void 0:a},c.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},c.prototype.loadCachedSnapshot=function(){var a,b;return(b=this.getCachedSnapshot())?(a=this.shouldIssueRequest(),this.render(function(){var c;return this.cacheSnapshot(),this.controller.render({snapshot:b,isPreview:a},this.performScroll),"function"==typeof(c=this.adapter).visitRendered&&c.visitRendered(this),a?void 0:this.complete()})):void 0},c.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var a,b;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(a=this.adapter).visitRendered&&a.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(b=this.adapter).visitRendered&&b.visitRendered(this),this.complete())}):void 0},c.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},c.prototype.requestStarted=function(){var a;return this.recordTimingMetric("requestStart"),"function"==typeof(a=this.adapter).visitRequestStarted?a.visitRequestStarted(this):void 0},c.prototype.requestProgressed=function(b){var a;return this.progress=b,"function"==typeof(a=this.adapter).visitRequestProgressed?a.visitRequestProgressed(this):void 0},c.prototype.requestCompletedWithResponse=function(c,b){return this.response=c,null!=b&&(this.redirectedToLocation=a.Location.wrap(b)),this.adapter.visitRequestCompleted(this)},c.prototype.requestFailedWithStatusCode=function(a,b){return this.response=b,this.adapter.visitRequestFailedWithStatusCode(this,a)},c.prototype.requestFinished=function(){var a;return this.recordTimingMetric("requestEnd"),"function"==typeof(a=this.adapter).visitRequestFinished?a.visitRequestFinished(this):void 0},c.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},c.prototype.scrollToRestoredPosition=function(){var a,b;return a=null!=(b=this.restorationData)?b.scrollPosition:void 0,null!=a?(this.controller.scrollToPosition(a),!0):void 0},c.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},c.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},c.prototype.recordTimingMetric=function(a){var b;return null!=(b=this.timingMetrics)[a]?b[a]:b[a]=(new Date).getTime()},c.prototype.getTimingMetrics=function(){return a.copyObject(this.timingMetrics)},d=function(a){switch(a){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},c.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},c.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},c.prototype.render=function(a){return this.cancelRender(),this.frame=requestAnimationFrame(function(b){return function(){return b.frame=null,a.call(b)}}(this))},c.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},c}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.Controller=function(){function c(){this.clickBubbled=b(this.clickBubbled,this),this.clickCaptured=b(this.clickCaptured,this),this.pageLoaded=b(this.pageLoaded,this),this.history=new a.History(this),this.view=new a.View(this),this.scrollManager=new a.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return c.prototype.start=function(){return a.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},c.prototype.disable=function(){return this.enabled=!1},c.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},c.prototype.clearCache=function(){return this.cache=new a.SnapshotCache(10)},c.prototype.visit=function(b,c){var d,e;return null==c&&(c={}),b=a.Location.wrap(b),this.applicationAllowsVisitingLocation(b)?this.locationIsVisitable(b)?(d=null!=(e=c.action)?e:"advance",this.adapter.visitProposedToLocationWithAction(b,d)):window.location=b:void 0},c.prototype.startVisitToLocationWithAction=function(b,d,e){var c;return a.supported?(c=this.getRestorationDataForIdentifier(e),this.startVisit(b,d,{restorationData:c})):window.location=b},c.prototype.setProgressBarDelay=function(a){return this.progressBarDelay=a},c.prototype.startHistory=function(){return this.location=a.Location.wrap(window.location),this.restorationIdentifier=a.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},c.prototype.stopHistory=function(){return this.history.stop()},c.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(b,c){return this.restorationIdentifier=c,this.location=a.Location.wrap(b),this.history.push(this.location,this.restorationIdentifier)},c.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(b,c){return this.restorationIdentifier=c,this.location=a.Location.wrap(b),this.history.replace(this.location,this.restorationIdentifier)},c.prototype.historyPoppedToLocationWithRestorationIdentifier=function(b,d){var c;return this.restorationIdentifier=d,this.enabled?(c=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(b,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:c,historyChanged:!0}),this.location=a.Location.wrap(b)):this.adapter.pageInvalidated()},c.prototype.getCachedSnapshotForLocation=function(b){var a;return null!=(a=this.cache.get(b))?a.clone():void 0},c.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},c.prototype.cacheSnapshot=function(){var b,c;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),c=this.view.getSnapshot(),b=this.lastRenderedLocation,a.defer(function(a){return function(){return a.cache.put(b,c.clone())}}(this))):void 0},c.prototype.scrollToAnchor=function(b){var a;return(a=this.view.getElementForAnchor(b))?this.scrollToElement(a):this.scrollToPosition({x:0,y:0})},c.prototype.scrollToElement=function(a){return this.scrollManager.scrollToElement(a)},c.prototype.scrollToPosition=function(a){return this.scrollManager.scrollToPosition(a)},c.prototype.scrollPositionChanged=function(b){var a;return a=this.getCurrentRestorationData(),a.scrollPosition=b},c.prototype.render=function(a,b){return this.view.render(a,b)},c.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},c.prototype.viewWillRender=function(a){return this.notifyApplicationBeforeRender(a)},c.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},c.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},c.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},c.prototype.clickBubbled=function(b){var d,a,c;return this.enabled&&this.clickEventIsSignificant(b)&&(a=this.getVisitableLinkForNode(b.target))&&(c=this.getVisitableLocationForLink(a))&&this.applicationAllowsFollowingLinkToLocation(a,c)?(b.preventDefault(),d=this.getActionForLink(a),this.visit(c,{action:d})):void 0},c.prototype.applicationAllowsFollowingLinkToLocation=function(b,c){var a;return a=this.notifyApplicationAfterClickingLinkToLocation(b,c),!a.defaultPrevented},c.prototype.applicationAllowsVisitingLocation=function(b){var a;return a=this.notifyApplicationBeforeVisitingLocation(b),!a.defaultPrevented},c.prototype.notifyApplicationAfterClickingLinkToLocation=function(b,c){return a.dispatch("turbolinks:click",{target:b,data:{url:c.absoluteURL},cancelable:!0})},c.prototype.notifyApplicationBeforeVisitingLocation=function(b){return a.dispatch("turbolinks:before-visit",{data:{url:b.absoluteURL},cancelable:!0})},c.prototype.notifyApplicationAfterVisitingLocation=function(b){return a.dispatch("turbolinks:visit",{data:{url:b.absoluteURL}})},c.prototype.notifyApplicationBeforeCachingSnapshot=function(){return a.dispatch("turbolinks:before-cache")},c.prototype.notifyApplicationBeforeRender=function(b){return a.dispatch("turbolinks:before-render",{data:{newBody:b}})},c.prototype.notifyApplicationAfterRender=function(){return a.dispatch("turbolinks:render")},c.prototype.notifyApplicationAfterPageLoad=function(b){return null==b&&(b={}),a.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:b}})},c.prototype.startVisit=function(a,c,d){var b;return null!=(b=this.currentVisit)&&b.cancel(),this.currentVisit=this.createVisit(a,c,d),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(a)},c.prototype.createVisit=function(h,i,e){var f,c,g,d,b;return c=null!=e?e:{},d=c.restorationIdentifier,g=c.restorationData,f=c.historyChanged,b=new a.Visit(this,h,i),b.restorationIdentifier=null!=d?d:a.uuid(),b.restorationData=a.copyObject(g),b.historyChanged=f,b.referrer=this.location,b},c.prototype.visitCompleted=function(a){return this.notifyApplicationAfterPageLoad(a.getTimingMetrics())},c.prototype.clickEventIsSignificant=function(a){return!(a.defaultPrevented||a.target.isContentEditable||a.which>1||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)},c.prototype.getVisitableLinkForNode=function(b){return this.nodeIsVisitable(b)?a.closest(b,"a[href]:not([target]):not([download])"):void 0},c.prototype.getVisitableLocationForLink=function(c){var b;return b=new a.Location(c.getAttribute("href")),this.locationIsVisitable(b)?b:void 0},c.prototype.getActionForLink=function(b){var a;return null!=(a=b.getAttribute("data-turbolinks-action"))?a:"advance"},c.prototype.nodeIsVisitable=function(c){var b;return!(b=a.closest(c,"[data-turbolinks]"))||"false"!==b.getAttribute("data-turbolinks")},c.prototype.locationIsVisitable=function(a){return a.isPrefixedBy(this.view.getRootLocation())&&a.isHTML()},c.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},c.prototype.getRestorationDataForIdentifier=function(a){var b;return null!=(b=this.restorationData)[a]?b[a]:b[a]={}},c}()}.call(this),function(){!function(){var a,b;if((a=b=document.currentScript)&&!b.hasAttribute("data-turbolinks-suppress-warning"))for(;a=a.parentNode;)if(a===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",b.outerHTML)}()}.call(this),function(){var c,d,b;a.start=function(){return d()?(null==a.controller&&(a.controller=c()),a.controller.start()):void 0},d=function(){return null==window.Turbolinks&&(window.Turbolinks=a),b()},c=function(){var b;return b=new a.Controller,b.adapter=new a.BrowserAdapter(b),b},b=function(){return window.Turbolinks===a},b()&&a.start()}.call(this)}.call(this),"object"==typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd&&define(a)}).call(this)